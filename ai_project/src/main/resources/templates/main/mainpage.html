<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="ko">
<head>
    <meta charset="UTF-8">
    <title>WellnessMate</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<style>
    /* 배너 스타일 */
       .outer {
           border: 4px solid royalblue;
           width: 600px;
           height: 250px;
           margin: 30px auto;
           overflow-x: hidden;
           border-radius: 12px;
       }
       .inner-list {
           display: flex;
           transition: .3s ease-out;
           height: 100%;
       }
       .inner {
           padding: 0;
           flex-shrink: 0; /* 줄어들지 않게 */
       }
       .inner img {
           width: 100%;
           height: 100%;
           object-fit: cover;
       }
       .button-list {
           text-align: center;
           margin-top: 10px;
       }
       .button-list button {
           padding: 8px 16px;
           margin: 0 5px;
           border: none;
           border-radius: 6px;
           background: royalblue;
           color: white;
           cursor: pointer;
       }
       .button-list button:hover {
           background: darkblue;
       }
</style>
<body>
<header class="header">
    <div class="logo">WellnessMate</div>
    <nav class="nav">
        <a href="/main" class="nav-link">홈</a>
        <a href="" class="nav-link">서비스</a>
        <a href="" class="nav-link">문의</a>
    </nav>
    <div class="login-area">
        <a th:if="${#authorization.expression('!isAuthenticated()')}" href="/loginMain" class="btn-login">로그인</a>
        <span th:if="${#authorization.expression('isAuthenticated()')}">
            <span th:text="${#authentication.principal.username}" style="font-weight: bold;"></span>님 환영합니다!
            <a href="/logout" class="btn-login">로그아웃</a>
        </span>
    </div>
</header>
<main>
    <!-- Hero 영역 -->
    <section class="hero">
        <h1>건강한 삶을 위한 <span class="highlight">WellnessMate</span></h1>
        <p>
            믿을만한 의료 서비스로 선택하세요. AI 기반 진단부터 전문의 상담까지, 언제 어디서나
            필요한 모든 서비스를 제공합니다.
        </p>
<!--        <div class="hero-buttons">-->
<!--            <a href="" class="btn-primary">서비스 시작하기</a>-->
<!--            <a href="" class="btn-secondary">더 알아보기</a>-->
<!--        </div>-->
    </section>

    <section>
        <div class="outer">
            <div class="inner-list">
                <div class="inner"><img src="/img/심리케어 이미지.jpg" alt="배너1"></div>
                <div class="inner"><img src="/img/내과.jpg" alt="배너2"></div>
                <div class="inner"><img src="/img/외과.jpg" alt="배너3"></div>
            </div>
        </div>

        <div class="button-list">
            <button class="button-left">←</button>
            <button class="button-right">→</button>
        </div>
    </section>

    <!-- 전문 의료 서비스 -->
    <section class="services">
        <h2>전문 의료 서비스</h2>
        <p>각 분야별 전문가들이 제공하는 맞춤형 의료 상담 서비스</p>

        <div class="service-grid">
            <!-- 심리케어 -->
            <div class="card">
                <div class="card-icon">💙</div>
                <h3>심리케어</h3>
                <p>
                    스트레스, 우울, 불안 등 마음의 어려움을 전문가와 함께 극복해보세요.
                    자기관리부터 맞춤형 상담까지 단계적 케어를 제공합니다.
                </p>
                <a href="trial" class="btn-card">심리케어 더 알아보기</a>
            </div>

            <!-- 내과 -->
            <div class="card">
                <div class="card-icon">🩺</div>
                <h3>내과</h3>
                <p>
                    내과 전문의 상담 및 진단을 통해 질병을 조기 발견하고 치료할 수 있습니다.
                    AI 기반 진단 서비스도 지원합니다.
                </p>
                <a href="medicine" class="btn-card">내과 서비스 시작하기</a>
            </div>

            <!-- 외과 -->
            <div class="card">
                <div class="card-icon">🩹</div>
                <h3>외과</h3>
                <p>
                    외상, 수술이 필요한 질환 등 외과 전문 진료 서비스를 제공합니다.
                    전문의 상담을 통해 안전하고 신속한 치료를 받아보세요.
                </p>
                <a href="" class="btn-card">외과 서비스 시작하기</a>
            </div>
        </div>
    </section>

</main>

<footer class="footer">
    <p>© 2025 LifeCare. All rights reserved.</p>
</footer>

<script>
    const outer = document.querySelector('.outer');
    const innerList = document.querySelector('.inner-list');
    const inners = document.querySelectorAll('.inner');
    let currentIndex = 0;

    inners.forEach((inner) => {
        inner.style.width = `${outer.clientWidth}px`;
    });

    innerList.style.width = `${outer.clientWidth * inners.length}px`;

    const buttonLeft = document.querySelector('.button-left');
    const buttonRight = document.querySelector('.button-right');

    buttonLeft.addEventListener('click', () => {
        currentIndex--;
        currentIndex = currentIndex < 0 ? 0 : currentIndex;
        innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`;
        clearInterval(interval);
        interval = getInterval();
    });

    buttonRight.addEventListener('click', () => {
        currentIndex++;
        currentIndex = currentIndex >= inners.length ? inners.length - 1 : currentIndex;
        innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`;
        clearInterval(interval);
        interval = getInterval();
    });

    const getInterval = () => {
        return setInterval(() => {
            currentIndex++;
            currentIndex = currentIndex >= inners.length ? 0 : currentIndex;
            innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`;
        }, 3000);
    }

    let interval = getInterval();
</script>
</body>
</html>
